{% extends '_layout.html' %}
{% load static %}
{% block title %}
    {{ the_user.user.first_name }} {{ the_user.user.last_name }}
{% endblock %}

{% block content %}
    {% if the_user.user.profile.slug %}

        <section id="page-header">
            <div class="row current-cat">
                <div class="col-full">
                    <link rel="stylesheet" href="{% static 'profile/style.css' %}">
                    <link rel="stylesheet" href="{% static 'css/main.css' %}">


                    <div class="profile-header" style="background-image: url('{% static 'images/about-us.jpg' %}');">

                        {% if the_user.profile_pic %}
                            <div class="profile-picture">
                                <img src="{{ the_user.profile_pic.url }}" alt="{{ the_user.user.username }}">
                            </div>
                        {% else %}
                            <div class="profile-picture">
                                <img src="{% static 'images/ProfileDefault.webp' %}" alt="profile pic default">
                            </div>
                        {% endif %}
                    </div>
                    <div class="profile-details">
                        <h1>{{ the_user.user.first_name }} {{ the_user.user.last_name }}</h1>
                        <p class="username">@{{ the_user.user.username }}</p>
                        <p class="profile-details">{{ the_user.bio }}</p>

                        {% if the_user.website_link or the_user.instagram_link or the_user.twitter_link %}
                            <div class="profile-header">
                                <h3>How to reach me?</h3>
                                <ul class="wrapper">
                                    {% if the_user.website_link %}
                                        <li class="icon website">
                                            <span class="tooltip">Website</span>
                                            <a href="{{ the_user.website_link }}" style="color: black">
                                                <svg
                                                        version="1.1" xmlns="http://www.w3.org/2000/svg"
                                                        viewBox="0 0 140 100"
                                                        fill="currentColor"
                                                        xmlns="http://www.w3.org/2000/svg"
                                                        height="1.2em"
                                                        width="2em"
                                                        class="website"
                                                        xmlns:xlink="http://www.w3.org/1999/xlink"
                                                        xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                                        xml:space="preserve"><g><path d="M0.06,64.15C0.02,63.25,0,62.35,0,61.44c0-4.24,0.41-8.33,1.22-12.35c0.77-3.94,1.95-7.74,3.54-11.46 c0-0.04,0.04-0.11,0.07-0.15c1.58-3.72,3.5-7.19,5.68-10.47c2.17-3.28,4.68-6.3,7.45-9.07c2.76-2.8,5.79-5.27,9.07-7.44 c3.28-2.21,6.78-4.09,10.47-5.68c3.76-1.62,7.63-2.8,11.61-3.61C53.07,0.41,57.2,0,61.44,0c4.24,0,8.33,0.41,12.35,1.22 c3.94,0.77,7.74,1.95,11.46,3.54c0.04,0,0.11,0.04,0.15,0.07c3.69,1.58,7.19,3.5,10.47,5.68c3.28,2.17,6.3,4.68,9.07,7.44 c2.8,2.76,5.27,5.79,7.45,9.07c2.21,3.28,4.09,6.78,5.68,10.47c1.62,3.76,2.8,7.63,3.61,11.61c0.81,3.98,1.22,8.11,1.22,12.35 c0,0.91-0.02,1.81-0.06,2.71C82.02,64.15,40.96,64.15,0.06,64.15L0.06,64.15z M82.41,70.94h7.04l3.71,15.25l4.71-15.25h7.9 l4.87,15.27l3.71-15.27h8.48l-8.47,24.29h-7.84l-4.66-14.62l-4.51,14.62h-7.89l-7.79-22.17l-7.73,22.17h-7.84l-4.66-14.62 l-4.51,14.62h-7.89l-7.79-22.17l-7.73,22.17h-7.84l-4.66-14.62l-4.51,14.62H8.63L0.09,70.94h8.53l3.71,15.25l4.7-15.25h7.9 l4.87,15.27l3.71-15.27h6.99h1.49h7.04l3.71,15.25l4.71-15.25h7.9l4.87,15.27l3.71-15.27h6.99H82.41L82.41,70.94z M5.45,58.75 h16.99c0.63-8.4,3.43-16.84,8.4-25.36H12.86c-1.14,1.99-2.17,4.05-3.1,6.23c-0.04,0.04-0.04,0.07-0.07,0.11 c-1.4,3.35-2.51,6.82-3.21,10.43C5.93,52.96,5.57,55.8,5.45,58.75L5.45,58.75z M16.36,28.01h17.95 c5.12-7.37,11.87-14.78,20.27-22.22c-1.51,0.18-2.99,0.41-4.42,0.7c-3.65,0.74-7.15,1.81-10.54,3.28c-3.43,1.47-6.63,3.21-9.62,5.2 c-2.99,1.99-5.71,4.24-8.26,6.78c-1.95,1.95-3.76,4.02-5.38,6.23V28.01L16.36,28.01z M68.3,5.79c8.44,7.45,15.18,14.85,20.27,22.22 h17.95c-1.62-2.21-3.43-4.28-5.38-6.23c-2.54-2.54-5.27-4.79-8.26-6.78c-2.95-1.99-6.16-3.72-9.62-5.2 c-0.04-0.04-0.07-0.04-0.11-0.07c-3.35-1.4-6.82-2.51-10.43-3.21c-1.47-0.3-2.95-0.52-4.42-0.7V5.79L68.3,5.79z M110.02,33.39 H92.03c4.98,8.51,7.78,16.95,8.4,25.36h16.99c-0.15-2.95-0.48-5.79-1.03-8.59c-0.74-3.65-1.81-7.15-3.28-10.54 C112.19,37.45,111.16,35.38,110.02,33.39L110.02,33.39L110.02,33.39z M64.13,9.29v18.72h17.84C77.29,21.82,71.35,15.59,64.13,9.29 L64.13,9.29z M64.13,33.39v25.36h30.92c-0.7-8.33-3.8-16.77-9.32-25.36H64.13L64.13,33.39z M58.75,58.75V33.39h-21.6 c-5.53,8.59-8.62,17.03-9.32,25.36H58.75L58.75,58.75z M58.75,28.01V9.29c-7.22,6.3-13.16,12.53-17.84,18.72H58.75L58.75,28.01z">
                                        </path></g>
                                    </svg>
                                            </a>
                                        </li>
                                    {% endif %}
                                    {% if the_user.twitter_link %}
                                        <li class="icon twitter">
                                            <span class="tooltip">Twitter</span>

                                            <a href="{{ the_user.twitter_link }}"
                                               style="color: black; text-decoration: none; ">
                                                <svg
                                                        height="1.8em"
                                                        fill="currentColor"
                                                        viewBox="0 0 48 48"
                                                        xmlns="http://www.w3.org/2000/svg"
                                                        class="twitter"
                                                >
                                                    <path
                                                            d="M42,12.429c-1.323,0.586-2.746,0.977-4.247,1.162c1.526-0.906,2.7-2.351,3.251-4.058c-1.428,0.837-3.01,1.452-4.693,1.776C34.967,9.884,33.05,9,30.926,9c-4.08,0-7.387,3.278-7.387,7.32c0,0.572,0.067,1.129,0.193,1.67c-6.138-0.308-11.582-3.226-15.224-7.654c-0.64,1.082-1,2.349-1,3.686c0,2.541,1.301,4.778,3.285,6.096c-1.211-0.037-2.351-0.374-3.349-0.914c0,0.022,0,0.055,0,0.086c0,3.551,2.547,6.508,5.923,7.181c-0.617,0.169-1.269,0.263-1.941,0.263c-0.477,0-0.942-0.054-1.392-0.135c0.94,2.902,3.667,5.023,6.898,5.086c-2.528,1.96-5.712,3.134-9.174,3.134c-0.598,0-1.183-0.034-1.761-0.104C9.268,36.786,13.152,38,17.321,38c13.585,0,21.017-11.156,21.017-20.834c0-0.317-0.01-0.633-0.025-0.945C39.763,15.197,41.013,13.905,42,12.429"
                                                    ></path>
                                                </svg>
                                            </a>
                                        </li>
                                    {% endif %}
                                    {% if the_user.instagram_link %}
                                        <li class="icon instagram">
                                            <span class="tooltip">Instagram</span>
                                            <a href="{{ the_user.instagram_link }}" style="color: black">
                                                <svg
                                                        xmlns="http://www.w3.org/2000/svg"
                                                        height="1.2em"
                                                        fill="currentColor"
                                                        class="instagram"
                                                        viewBox="0 0 18 16"
                                                >
                                                    <path
                                                            d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z"
                                                    ></path>
                                                </svg>
                                            </a>
                                        </li>
                                    {% endif %}
                                </ul>
                            </div>

                        {% endif %}
                    </div>
                </div>
            </div>
        </section>

        {% if user_posts %}
            <section id="page-header">
                <div class="row current-cat">
                    <div class="col-full">
                        <h1>{{ the_user.user.first_name }}'s Posts</h1>
                    </div>
                </div>
            </section>
            <section id="bricks">
                <div class="row masonry">
                    <!-- brick-wrapper -->
                    <div class="bricks-wrapper">
                        <div class="grid-sizer"></div>

                        {% for post in user_posts %}
                            <article class="brick entry format-standard animate-this">
                                {% if post.header_image %}
                                    <div class="entry-thumb">
                                        <a href="{% url 'post-detail-url' post.slug %}" class="thumb-link">
                                            <img src="{{ post.header_image.url }}" alt="building">
                                        </a>
                                    </div>
                                {% else %}
                                    <div class="entry-thumb">
                                        <a href="{% url 'post-detail-url' post.slug %}" class="thumb-link">
                                            <img src="{% static 'images/post-default.jpg' %}" alt="building">
                                        </a>
                                    </div>
                                {% endif %}

                                <div class="entry-text">
                                    <div class="entry-header">

                                        <h1 class="entry-title"><a
                                                href="{% url 'post-detail-url' post.slug %}">{{ post.title }}</a>
                                        </h1>
                                    </div>

                                    <div class="entry-excerpt">
                                        {{ post.short_description }}
                                    </div>
                                </div>
                            </article> <!-- end article -->
                        {% endfor %}

                    </div>
                </div>
            </section>

        {% endif %}


    {% else %}
        <h2>Please <a href="{% url 'create-profile-page-url' %}" style="color: darkseagreen">create your profile</a> to
            unlock too many
            options.</h2>
    {% endif %}

{% endblock %}
