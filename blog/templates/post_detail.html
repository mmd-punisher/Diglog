{#{% extends 'base.html' %}#}
{% extends 'landing/_layout.html' %}
{% load static %}
{% load hitcount_tags %}
{% block title %}
    {{ post.title }}
{% endblock %}

{#{% block content %}#}
{#    #}
{#    <h1>{{ post.title }}</h1>#}
{#    <small style="display: flex; align-items: center; gap: 6px">By: {{ post.author.first_name }} {{ post.author.last_name }} - At {{ post.pub_date | date:'d F Y' }}#}
{#        | {% get_hit_count for post %}#}
{#        <svg xmlns="http://www.w3.org/2000/svg" style="height: 20px; width: 20px"#}
{#             viewBox="0 0 576 512">#}
{#            <path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"></path>#}
{#        </svg>#}
{#    </small>#}
{#    <i class="fa-solid fa-eye"></i>#}
{#    <hr>#}
{#    {% if post.header_image %}#}
{#        <img src="{{ post.header_image.url }}" alt="Header img" style="padding: 0; display: block; margin: 0 auto; max-height: 100%; max-width: 100%;">#}
{#        <img src="{{ post.header_image.url }}" alt="Header img"#}
{#             style="object-fit:cover;#}
{#            width:1300px;#}
{#            height:300px;#}
{#            border: solid 1px #CCC;#}
{#            padding: 0;#}
{#            display: block;#}
{#            margin: 0 auto">#}
{#    {% endif %}#}
{#    <p>{{ post.body | safe }}</p>#}
{#    <br/>#}
{#    <br/>#}
{#    <p>Last update at {{ post.date_updated | date:'H:i' }} on {{ post.date_updated | date:'d F Y' }}</p>#}
{#    <a href="{% url 'home-url' %}" class="btn btn-secondary">Back</a>#}
{#    {% if user.is_authenticated %}#}
{#        {% if user.id == post.author.id %}#}
{#            <a href="{% url 'edit-post-url' post.slug %}" class="btn btn-warning">Edit</a>#}
{#            <a href="{% url 'delete-post-url' post.slug %}" class="btn btn-danger">Delete</a>#}
{#        {% endif %}#}
{#    {% endif %}#}
{#    <br/>#}
{#    <hr>#}
{#    <form action="{% url 'like-post-url' post.slug %}" method="post">#}
{#        <h2>{{ total_likes }} likes</h2>#}
{#        {% csrf_token %}#}
{#        {% if user.is_authenticated %}#}
{#            {% if liked %}#}
{#                <button type="submit" name="post_like" value="{{ post.slug }}" class="btn btn-danger">#}
{#                    UnLike#}
{#                </button>#}
{#            {% else %}#}
{#                <button type="submit" name="post_like" value="{{ post.slug }}" class="btn btn-outline-danger">#}
{#                    Like#}
{#                </button>#}
{#            {% endif %}#}
{#            </form>#}
{#            <hr>#}
{#        {% else %}#}
{#            <br/>#}
{#            <br/>#}
{#            <strong><a href="{% url 'login' %}">Login</a> to your account, to like and comment#}
{#                for {{ post.author.first_name }} {{ post.author.last_name }}</strong>#}
{#            <hr>#}
{#        {% endif %}#}
{##}
{#    {% if post.author.profile.slug %}#}
{#        <h2>About Author</h2>#}
{#        <div class="card mb-3">#}
{#            <div class="row g-0">#}
{#                <div class="col-md-2">#}
{#                    {% if post.author.profile.profile_pic %}#}
{#                        <img src="{{ post.author.profile.profile_pic.url }}" class="img-fluid rounded-start"#}
{#                             alt="profile pic">#}
{#                    {% else %}#}
{#                        <img src="{% static 'images/ProfileDefault.webp' %}" class="img-fluid rounded-start"#}
{#                             alt="profile pic">#}
{#                    {% endif %}#}
{#                </div>#}
{#                <div class="col-md-10">#}
{##}
{#                    <div class="card-body">#}
{#                        <h5 class="card-title">{{ post.author.first_name }} {{ post.author.last_name }}</h5>#}
{#                        <p class="card-text"><small class="text-body-secondary">#}
{#                            <a target="_blank" href="{% url 'show-profile-url' post.author.profile.slug %}">Profile#}
{#                                Page</a>#}
{#                            {% if post.author.profile.website_link %}#}
{#                                | <a target="_blank" href="{{ post.author.profile.website_link }}">Website</a>#}
{#                            {% endif %}#}
{##}
{#                            {% if post.author.profile.instagram_link %}#}
{#                                | <a target="_blank" href="{{ post.author.profile.instagram_link }}">Instagram</a>#}
{#                            {% endif %}#}
{##}
{#                            {% if post.author.profile.twitter_link %}#}
{#                                | <a target="_blank" href="{{ post.author.profile.twitter_link }}">Twitter</a>#}
{#                            {% endif %}#}
{#                        </small>#}
{#                        </p>#}
{#                        <p class="card-text">{{ post.author.profile.bio }}</p>#}
{#                    </div>#}
{#                </div>#}
{#            </div>#}
{#        </div>#}
{#    <img src="" width=100 height=100 class="rounded-circle">#}
{#    {% elif user.id == post.author.id %}#}
{#        <p>Please <a href="{% url 'create-profile-page-url' %}" style="color: darkseagreen">create your profile</a> to#}
{#            unlock to many options.</p>#}
{#    {% endif %}#}
{#    <br/>#}
{#    <h2>Comments</h2>#}
{#    <hr>#}
{#    <br/>#}
{#    {% if not post.comments.all %}#}
{#        {% if not user.is_authenticated %}#}
{#            <p>There is no comments for {{ post.title }} yet! <a href="{% url 'login' %}">Login</a> to add comments#}
{#            </p>#}
{#        {% endif %}#}
{#    {% else %}#}
{#        {% for comment in post.comments.all %}#}
{#            <div class="card mb-3">#}
{#                <div class="card-body">#}
{#                    <strong class="card-title">{{ comment.name }}</strong>#}
{#                    <p class="card-text"><small class="text-body-secondary">#}
{#                        {{ comment.date }}#}
{#                    </small>#}
{#                    </p>#}
{#                    <p class="card-text">{{ comment.body }}</p>#}
{#                </div>#}
{#            </div><br/>#}
{#        {% endfor %}#}
{#    {% endif %}#}
{#    {% if not post.comments.all %}#}
{#        {% if user.is_authenticated %}#}
{#            <p>There is no comments for {{ post.title }} yet! <a href="{% url 'add-comment-url' post.pk %}">Add One#}
{#                ðŸ“¨</a>#}
{#            </p>#}
{#        {% endif %}#}
{#    {% else %}#}
{#        {% if user.is_authenticated %}#}
{#            <a href="{% url 'add-comment-url' post.pk %}" style="color: steelblue" class="btn btn-light">Add New#}
{#                Comment!</a><br/>#}
{#        {% endif %}#}
{#    {% endif %}#}
{##}
{#    <br/>#}
{#    <hr>#}
{#    <h5>#}
{#        You Also May Like More Posts With <a href="{% url 'category-list-url' post.category %}">{{ post.category }}</a>#}
{#        Category#}
{#    </h5>#}
{#    <br/>#}
{#    <br/>#}
{##}
{#{% endblock %}#}

{% block content %}
    <section id="content-wrap" class="blog-single">
        <div class="row">
            <div class="col-twelve">
                <article class="format-standard">
                    {% if post.header_image %}

                        <div class="content-media">
                            <div class="post-thumb">
                                <img src="{{ post.header_image.url }}" alt="Header img"
                                     style="display: flex; justify-content: center;">
                            </div>
                        </div>
                    {% endif %}
                    <div class="primary-content">

                        <h1 class="page-title">{{ post.title }}</h1>

                        <ul class="entry-meta">
                            <li class="date"><a href="{% url 'show-profile-url' post.author.profile.slug %}">
                                {{ post.author.first_name }} {{ post.author.last_name }}</a>
                            </li>

                            <li class=" date">{{ post.pub_date | date:'F d, Y' }}</li>

                            <li class="cat"><a
                                    href="{% url 'category-list-url' post.category %}">{{ post.category }}</a></li>

                            <li class="cat">
                                <p style="display: flex; align-items: center; gap: 6px">
                                    | {% get_hit_count for post %}

                                    <svg xmlns="http://www.w3.org/2000/svg" style="height: 20px; width: 20px"
                                         viewBox="0 0 576 512">
                                        <path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"></path>
                                    </svg>
                                </p>
                            </li>
                        </ul>

                        <p class="lead">{{ post.body|safe }}</p>
                        <br>
                        <br>
                        <br>
                        <!-- Like -->
                        <form action="{% url 'like-post-url' post.slug %}" method="post" name="likeform">
                            <h3>{{ total_likes }} likes</h3>
                            {% csrf_token %}
                            {% if user.is_authenticated %}
                                {% if liked %}
                                    <button type="submit" name="post_like" value="{{ post.slug }}"
                                            class="btn btn-danger">
                                        UnLike
                                    </button>
                                {% else %}
                                    <button type="submit" name="post_like" value="{{ post.slug }}"
                                            class="btn btn-outline-danger">
                                        Like
                                    </button>
                                {% endif %}
                            {% else %}
                                <p class="tags">Please <a href="{% url 'login' %}">login</a>to your account for able to
                                    like a post or leave a comment</p>
                            {% endif %}
                        </form>
                        <!-- Back and Edit-->
                        <p class="tags">
                            <a href="{% url 'home-url' %}">Back</a>
                            {% if user.id == post.author.id %}
                                <a href="{% url 'edit-post-url' post.slug %}">Edite</a>
                                <a href="{% url 'delete-post-url' post.slug %}">Delete</a>
                            {% endif %}
                        </p>
                    </div>

                </article>

            </div>
        </div>
    </section>

{% endblock %}